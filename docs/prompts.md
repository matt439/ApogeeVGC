# Conversion

## Ability Review Pass

### Copilot

I am converting ability data from typescript #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\data\abilities.ts'  into C#  #method:'ApogeeVGC.Data.Abilities.Abilities.CreateAbilitiesYz':753-54288  . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if an ability has a #field:'ApogeeVGC.Sim.Abilities.Ability.Condition':1625-1669 property, the condition data will be in #method:'ApogeeVGC.Data.Conditions.Conditions.CreateConditionsYz':729-41453 . Also check the condtion logic is correct.  Start with ability ‘xxx’ and end with ‘yyy’ Many abilities have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 should be removed. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and things only relevant to unusual formats should be removed. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\CONTRIBUTING.md'  for the rules on null, undefined, and false. I have an explicit #class:'ApogeeVGC.Sim.Utils.Unions.Undefined':155-179  type. I also use an explicit #class:'ApogeeVGC.Sim.Utils.Unions.VoidReturn':131-156 type. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable).

### Claude

I am converting ability data from typescript @pokemon-showdown/data/abilities.ts into C#  @ApogeeVGC/Data/Abilities/AbilitiesVWX.cs . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if an ability has a field:'ApogeeVGC.Sim.Abilities.Ability.Condition' property, the condition data will be in @ApogeeVGC/Data/Conditions/ConditionsVWX.cs . Also check the condtion logic is correct.  Start with ability ‘XXX’ in @ApogeeVGC/Data/Abilities/AbilitiesVWX.cs and end with ‘YYY’. Many abilities have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 should be removed. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and things only relevant to unusual formats should be removed. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See @pokemon-showdown/CONTRIBUTING.md for the rules on null, undefined, and false. I have explicit @ApogeeVGC/Sim/Utils/Unions/Undefined.cs , @ApogeeVGC/Sim/Utils/Unions/VoidReturn.cs , and @ApogeeVGC/Sim/Utils/Unions/Empty.cs types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable). Be strict with the comparison - don't accept 'near enough'.

## Item Review Pass

### Copilot

I am converting item data from typescript #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\data\items.ts'   into C#  #method:'ApogeeVGC.Data.Items.Items.CreateItemsYz':674-48662  . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if an item has a #field:'ApogeeVGC.Sim.Items.Item.Condition':2289-2331  property, the condition data will be in #method:'ApogeeVGC.Data.Conditions.Conditions.CreateConditionsYz':729-41453 . Also check the condition logic is correct.  Start with item ‘xxx’ and end with ‘yyy’ Many items have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\CONTRIBUTING.md'  for the rules on null, undefined, and false. I have an explicit #class:'ApogeeVGC.Sim.Utils.Unions.Undefined':155-179  type. I also use an explicit #class:'ApogeeVGC.Sim.Utils.Unions.VoidReturn':131-156 type. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable).

### Claude

I am converting item data from typescript @pokemon-showdown/data/items.ts into C#  @ApogeeVGC/Data/Items/ItemsVWX.cs . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if an item has a field:'ApogeeVGC.Sim.Items.Item.Condition' property, the condition data will be in @ApogeeVGC/Data/Conditions/ConditionsVWX.cs . Also check the condition logic is correct.  Start with item ‘XXX’ in @ApogeeVGC/Data/Items/ItemsVWX.cs and end with ‘YYY’. Many items have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See @pokemon-showdown/CONTRIBUTING.md for the rules on null, undefined, and false. I have explicit @ApogeeVGC/Sim/Utils/Unions/Undefined.cs , @ApogeeVGC/Sim/Utils/Unions/VoidReturn.cs , and @ApogeeVGC/Sim/Utils/Unions/Empty.cs types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable). Be strict with the comparison - don't accept 'near enough'.

## Move Review Pass

### Copilot

I am converting move data from typescript #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\data\moves.ts'  into C#  #method:'ApogeeVGC.Data.Moves.Moves.CreateMovesDef':473-94606   . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if a move has a #field:'ApogeeVGC.Sim.Moves.Move.Condition':786-828 property, the condition data will be in #method:'ApogeeVGC.Data.Conditions.Conditions.CreateConditionsDef':729-41453 . Also check the condition logic is correct. Start with move ‘xxx’ in #method:'ApogeeVGC.Data.Moves.Moves.CreateMovesAbc':473-94606 and end with ‘yyy’. For each move, check it against the TS reference. Many moves have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\CONTRIBUTING.md'  for the rules on null, undefined, and false. I have explicit #class:'ApogeeVGC.Sim.Utils.Unions.Undefined':155-179  ,  #class:'ApogeeVGC.Sim.Utils.Unions.VoidReturn':131-156 , and #class:'ApogeeVGC.Sim.Utils.Unions.Empty':240-260 types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable).

### Claude

I am converting move data from typescript @pokemon-showdown/data/moves.ts into C# @ApogeeVGC/Data/Moves/MovesJKL.cs . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if a move has a field:'ApogeeVGC.Sim.Moves.Move.Condition' property, the condition data will be in @ApogeeVGC/Data/Conditions/ConditionsJKL.cs . Also check the condition logic is correct. Start with move ‘XXX’ in @ApogeeVGC/Data/Moves/MovesJKL.cs and end with ‘YYY’. For each move, check it against the TS reference. Many moves have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See @pokemon-showdown/CONTRIBUTING.md for the rules on null, undefined, and false. I have explicit @ApogeeVGC/Sim/Utils/Unions/Undefined.cs , @ApogeeVGC/Sim/Utils/Unions/VoidReturn.cs , and @ApogeeVGC/Sim/Utils/Unions/Empty.cs  types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable). After making changes, make sure the project compiles. Be strict with the comparison - don't accept 'near enough'.

## Condition Review Pass

### Copilot

I am converting condition data from typescript #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\data\conditions.ts'  into C#  #method:'ApogeeVGC.Data.Conditions.Conditions.CreateConditionsYz':473-94606   . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Start with move ‘xxx’ and end with ‘yyy’. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\CONTRIBUTING.md'  for the rules on null, undefined, and false. I have explicit #class:'ApogeeVGC.Sim.Utils.Unions.Undefined':155-179  ,  #class:'ApogeeVGC.Sim.Utils.Unions.VoidReturn':131-156 , and #class:'ApogeeVGC.Sim.Utils.Unions.Empty':240-260 types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable).

### Claude

I am converting condition data from typescript @pokemon-showdown/data/conditions.ts into C#  @ApogeeVGC/Data/Conditions/ConditionsABC.cs . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Check conditions: 'XXX', 'YYY', 'ZZZ'. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See @pokemon-showdown/CONTRIBUTING.md for the rules on null, undefined, and false. I have explicit @ApogeeVGC/Sim/Utils/Unions/Undefined.cs , @ApogeeVGC/Sim/Utils/Unions/VoidReturn.cs , and @ApogeeVGC/Sim/Utils/Unions/Empty.cs types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable). Be strict with the comparison - don't accept 'near enough'.

## Move Single Review

### Copilot

I am converting move data from typescript #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\data\moves.ts'  into C#  #class:'ApogeeVGC.Data.Moves.Moves':104-1401   . An initial conversion has been completed. Now complete a review pass, checking that no errors have occurred in the conversion process. Check that the logic in the event handlers matches the typescript reference. Note that if a move has a #field:'ApogeeVGC.Sim.Moves.Move.Condition':786-828 property, the condition data will be in  #class:'ApogeeVGC.Data.Conditions.Conditions':114-2355 . Also check the condition logic is correct. Check 'rollout'. Many moves have been deliberately omitted. My program is only targeting generation 9 so anything to do with dynamax, gigantmax, max moves, mega evolution, z-moves, hidden power, or anything not relevant to generation 9 can be skipped. I am also only targeting regular 1v1 and 2v2 formats, so 3v3 and other unusual formats are skipped. To know whether an ability, item, move, or condition should be skipped; check 'abilities.ts', 'items.ts', 'moves.ts', or 'conditions.ts' respectively and if there is an 'isNonStandard' property then it should be skipped. Attention should be paid to the return type in functions as it is critical to the operation of the program. See #file:'C:\VSProjects\ApogeeVGC\pokemon-showdown\CONTRIBUTING.md'  for the rules on null, undefined, and false. I have explicit #class:'ApogeeVGC.Sim.Utils.Unions.Undefined':155-179  ,  #class:'ApogeeVGC.Sim.Utils.Unions.VoidReturn':131-156 , and #class:'ApogeeVGC.Sim.Utils.Unions.Empty':240-260 types. Pay special attention to the return statements in methods to make sure they match the logic of the TS. If you think that the return type of a delegate needs to be modified, add a TODO statement. Check that any null checks are present in the C# implementation. In C# logic, strictly use Id enums instead of Name strings (except in Add, AddMove, AttrLastMove, Debug etc. where strings are acceptable). The moves GlacialLance, LeechSeed, TrickRoom, Protect, VoltSwitch, DazzlingGleam, ElectroDrift, DracoMeteor, Façade, Crunch, HeadlongRush, StruggleBug, Overheat, Tailwind, SpritBreak, ThunderWave, Reflect, LightScreen, FakeOut, HeavySlam, LowKick, and WildCharge (and their corresponding conditions) should be used as primary references as they have been verified as accurate conversions.

## Alphabetise entries

check @ApogeeVGC/Data/Moves/MovesSTU.cs   and ensure all entries are in alphabetical order. also make sure all entries are in the correct file (example: 'dog' should not be in ABC).

## Create Splits in Workbook.md

see @docs/workbook.md . it splits files into chunks by listing entry ranges. it needs to be recreated because i have alphabetised some of the files. each chunk must be no more than 200 lines. do @ApogeeVGC/Data/Items/ItemsABC.cs

# Debugging

## RndVsRndVgcRegIEvaluation

i am debugging my pokemon simulator by running battles between two random players, each with random teams. entry point is  #method:'ApogeeVGC.Sim.Core.Driver.RunRndVsRndVgcRegIEvaluation':27313-34906 . see #file:'C:\VSProjects\ApogeeVGC\docs\bugfixes\INDEX.md' for a summary of previous bug fixes which may be relevant for this one. the solution folder 'pokemon-showdown' contains the TS source code which can be used to help debug. debug output:

## SingleBattleDebugVgcRegI

i am debugging my pokemon simulator by running battles between two random players, each with random teams. entry point is #method:'ApogeeVGC.Sim.Core.Driver.RunSingleBattleDebugVgcRegI':8484-11553 . see #file:'C:\VSProjects\ApogeeVGC\docs\bugfixes\INDEX.md' for a summary of previous bug fixes which may be relevant for this one. the solution folder 'pokemon-showdown' contains the TS source code which can be used to help debug. an error has occured with a particular set of random seeds. debug output:




## Incremental Debugging

i am incrementally debugging my pokemon simulator by running battles between two random players, each with random teams. entry point is  #method:'ApogeeVGC.Sim.Core.Driver.RunIncrementalDebugTest':27313-34906 . see '/docs/bugfixes/INDEX.md' for a summary of previous bug fixes which may be relevant for this one. the solution folder 'pokemon-showdown' contains the TS source code which can be used to help debug. the exception occured when testing the move 'Crabhammer'. debug output:

## Incremental Debugging Single

i am incrementally debugging my pokemon simulator by running battles between two random players, each with random teams. an exception occured and now i am debugging by running that single battle. entry point is  #method:'ApogeeVGC.Sim.Core.Driver.RunSingleBattleDebug':43816-47523 . see '/docs/bugfixes/INDEX.md' for a summary of previous bug fixes which may be relevant for this one. the solution folder 'pokemon-showdown' contains the TS source code which can be used to help debug. the exception occured when testing with Player1Seed=1453, Player2Seed=1454, BattleSeed=1455. debug output:


# Extra

i am running #method:'ApogeeVGC.Sim.Core.Driver.RunRndVsRndVgcRegIEvaluation':14488-25653 . i want to profile and optimise the program. particularly for the way that battles are run concurrently.

{BattleSeedContext { Team1Seed = 470617, Team2Seed = 484187, Player1Seed = 428643, Player2Seed = 418117, BattleSeed = 426176 }}

see #file:'C:\VSProjects\ApogeeVGC\docs\migration\EventHandlerContextMigrationPlan.md' . implement phase 1

Commit 0065a648 'Optimize event handler lookup with precomputed caches' may need to be reverted if it doesn't improve performance