// Missing Items to Add to ItemsDEF.cs
// This item should be inserted between Electric Seed and Eviolite

// After Electric Seed (line ~238), before Eviolite:

[ItemId.EnigmaBerry] = new()
{
    Id = ItemId.EnigmaBerry,
    Name = "Enigma Berry",
    SpriteNum = 124,
    IsBerry = true,
    NaturalGift = (100, "Bug"),
    OnHit = new OnHitEventInfo((battle, target, source, move) =>
    {
        if (move != null && target.GetMoveHitData(move).TypeMod > 0)
        {
            if (target.EatItem())
            {
                battle.Heal(target.BaseMaxHp / 4);
            }
        }
    }),
    OnTryEatItem = new OnTryEatItemEventInfo(
        OnTryEatItem.FromFunc((battle, item, pokemon) =>
        {
            var canHeal = battle.RunEvent(EventId.TryHeal, pokemon, null, battle.Effect, 
                pokemon.BaseMaxHp / 4);
            if (canHeal is BoolRelayVar boolVar && !boolVar.Value)
            {
                return BoolVoidUnion.FromBool(false);
            }
            return BoolVoidUnion.FromVoid();
        })),
    OnEat = new OnEatEventInfo((Action<Battle, Pokemon>)((battle, pokemon) => { })),
    Num = 208,
    Gen = 3,
},
